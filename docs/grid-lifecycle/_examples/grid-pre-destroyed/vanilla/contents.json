{"isEnterprise":false,"isLocale":false,"isIntegratedCharts":false,"entryFileName":"main.js","mainFileName":"main.js","scriptFiles":["data.js","main.js"],"styleFiles":["styles.css"],"files":{"styles.css":".test-grid {\n    flex-grow: 1;\n}\n\n.test-container {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n}\n\n.test-header {\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n    font-size: 13px;\n    margin-bottom: 1rem;\n}\n","data.js":"\n\n\n\n\n\n\n\n\n\n\n\n\nfunction getDataSet() {\n    return [\n        {\n            name: 'Michael Phelps',\n            person: {\n                age: 23,\n                country: 'United States',\n            },\n            medals: {\n                gold: 8,\n                silver: 0,\n                bronze: 0,\n            },\n        },\n        {\n            name: 'Michael Phelps',\n            person: {\n                age: 19,\n                country: 'United States',\n            },\n            medals: {\n                gold: 6,\n                silver: 0,\n                bronze: 2,\n            },\n        },\n        {\n            name: 'Michael Phelps',\n            person: {\n                age: 27,\n                country: 'United States',\n            },\n            medals: {\n                gold: 4,\n                silver: 2,\n                bronze: 0,\n            },\n        },\n        {\n            name: 'Natalie Coughlin',\n            person: {\n                age: 25,\n                country: 'United States',\n            },\n            medals: {\n                gold: 1,\n                silver: 2,\n                bronze: 3,\n            },\n        },\n        {\n            name: 'Aleksey Nemov',\n            person: {\n                age: 24,\n                country: 'Russia',\n            },\n            medals: {\n                gold: 2,\n                silver: 1,\n                bronze: 3,\n            },\n        },\n        {\n            name: 'Alicia Coutts',\n            person: {\n                age: 24,\n                country: 'Australia',\n            },\n            medals: {\n                gold: 1,\n                silver: 3,\n                bronze: 1,\n            },\n        },\n        {\n            name: 'Missy Franklin',\n            person: {\n                age: 17,\n                country: 'United States',\n            },\n            medals: {\n                gold: 4,\n                silver: 0,\n                bronze: 1,\n            },\n        },\n        {\n            name: 'Ryan Lochte',\n            person: {\n                age: 27,\n                country: 'United States',\n            },\n            medals: {\n                gold: 2,\n                silver: 2,\n                bronze: 1,\n            },\n        },\n        {\n            name: 'Allison Schmitt',\n            person: {\n                age: 22,\n                country: 'United States',\n            },\n            medals: {\n                gold: 3,\n                silver: 1,\n                bronze: 1,\n            },\n        },\n        {\n            name: 'Natalie Coughlin',\n            person: {\n                age: 21,\n                country: 'United States',\n            },\n            medals: {\n                gold: 2,\n                silver: 2,\n                bronze: 1,\n            },\n        },\n        {\n            name: 'Ian Thorpe',\n            person: {\n                age: 17,\n                country: 'Australia',\n            },\n            medals: {\n                gold: 3,\n                silver: 2,\n                bronze: 0,\n            },\n        },\n        {\n            name: 'Dara Torres',\n            person: {\n                age: 33,\n                country: 'United States',\n            },\n            medals: {\n                gold: 2,\n                silver: 0,\n                bronze: 3,\n            },\n        },\n        {\n            name: 'Cindy Klassen',\n            person: {\n                age: 26,\n                country: 'Canada',\n            },\n            medals: {\n                gold: 1,\n                silver: 2,\n                bronze: 2,\n            },\n        },\n        {\n            name: 'Nastia Liukin',\n            person: {\n                age: 18,\n                country: 'United States',\n            },\n            medals: {\n                gold: 1,\n                silver: 3,\n                bronze: 1,\n            },\n        },\n        {\n            name: 'Marit BjÃ¸rgen',\n            person: {\n                age: 29,\n                country: 'Norway',\n            },\n            medals: {\n                gold: 3,\n                silver: 1,\n                bronze: 1,\n            },\n        },\n        {\n            name: 'Sun Yang',\n            person: {\n                age: 20,\n                country: 'China',\n            },\n            medals: {\n                gold: 2,\n                silver: 1,\n                bronze: 1,\n            },\n        },\n        {\n            name: 'Kirsty Coventry',\n            person: {\n                age: 24,\n                country: 'Zimbabwe',\n            },\n            medals: {\n                gold: 1,\n                silver: 3,\n                bronze: 0,\n            },\n        },\n        {\n            name: 'Libby Lenton-Trickett',\n            person: {\n                age: 23,\n                country: 'Australia',\n            },\n            medals: {\n                gold: 2,\n                silver: 1,\n                bronze: 1,\n            },\n        },\n        {\n            name: 'Ryan Lochte',\n            person: {\n                age: 24,\n                country: 'United States',\n            },\n            medals: {\n                gold: 2,\n                silver: 0,\n                bronze: 2,\n            },\n        },\n        {\n            name: 'Inge de Bruijn',\n            person: {\n                age: 30,\n                country: 'Netherlands',\n            },\n            medals: {\n                gold: 1,\n                silver: 1,\n                bronze: 2,\n            },\n        },\n    ];\n}\n","main.js":"let columnWidths = undefined;\n\nlet gridApi;\n\nconst gridOptions = {\n  columnDefs: [\n    { field: \"name\", headerName: \"Athlete\" },\n    { field: \"medals.gold\", headerName: \"Gold Medals\" },\n    { field: \"person.age\", headerName: \"Age\" },\n  ],\n  rowData: getDataSet(),\n  onGridPreDestroyed: (params) => {\n    const allColumns = params.api.getColumns();\n    if (!allColumns) {\n      return;\n    }\n\n    const currentColumnWidths = allColumns.map((column) => ({\n      field: column.getColDef().field || \"-\",\n      width: column.getActualWidth(),\n    }));\n\n    displayColumnsWidth(currentColumnWidths);\n    columnWidths = new Map(\n      currentColumnWidths.map((columnWidth) => [\n        columnWidth.field,\n        columnWidth.width,\n      ]),\n    );\n  },\n};\n\nconst displayColumnsWidth = (values) => {\n  const parentContainer = document.querySelector(\"#gridPreDestroyedState\");\n  const valuesContainer = parentContainer.querySelector(\".values\");\n  if (!parentContainer || !valuesContainer) {\n    return;\n  }\n\n  const html =\n    \"<ul>\" +\n    (values || [])\n      .map(\n        (value) => `<li>Field: ${value.field} | Width: ${value.width}px</li>`,\n      )\n      .join(\"\") +\n    \"</ul>\";\n\n  parentContainer.style.display = \"block\";\n  valuesContainer.innerHTML = html;\n\n  const exampleButtons = document.querySelector(\"#exampleButtons\");\n  exampleButtons.style.display = \"none\";\n};\n\nfunction updateColumnWidth() {\n  if (!gridApi) {\n    return;\n  }\n\n  const newWidths = gridApi.getColumns().map((column) => {\n    return {\n      key: column.getColId(),\n      newWidth: Math.round((150 + Math.random() * 100) * 100) / 100,\n    };\n  });\n  gridApi.setColumnWidths(newWidths);\n}\n\nfunction destroyGrid() {\n  if (!gridApi) {\n    return;\n  }\n\n  gridApi.destroy();\n  gridApi = undefined;\n}\n\nfunction reloadGrid() {\n  const gridDiv = document.querySelector(\"#myGrid\");\n\n  const updatedColDefs =\n    gridOptions.columnDefs && columnWidths\n      ? gridOptions.columnDefs.map((val) => {\n          const colDef = val;\n          const result = {\n            ...colDef,\n          };\n\n          if (colDef.field && columnWidths) {\n            const restoredWidth = columnWidths.get(colDef.field);\n            if (restoredWidth) {\n              result.width = restoredWidth;\n            }\n          }\n\n          return result;\n        })\n      : gridOptions.columnDefs;\n\n  gridOptions.columnDefs = updatedColDefs;\n\n  gridApi = agGrid.createGrid(gridDiv, gridOptions);\n\n  const parentContainer = document.querySelector(\"#gridPreDestroyedState\");\n  parentContainer.style.display = \"none\";\n\n  const exampleButtons = document.querySelector(\"#exampleButtons\");\n  exampleButtons.style.display = \"block\";\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const gridDiv = document.querySelector(\"#myGrid\");\n  gridApi = agGrid.createGrid(gridDiv, gridOptions);\n});\n","index.html":"<div class=\"test-container\">\n    <div class=\"test-header\">\n        <div id=\"exampleButtons\" style=\"margin-bottom: 1rem\">\n            <button onclick=\"updateColumnWidth()\">Change Columns Width</button>\n            <button onclick=\"destroyGrid()\">Destroy Grid</button>\n        </div>\n        <div style=\"display: none\" id=\"gridPreDestroyedState\">\n            State captured on grid pre-destroyed event:<br />\n            <strong>Column fields and widths</strong>\n            <pre class=\"values\"></pre>\n            <button onclick=\"reloadGrid()\">Reload Grid</button>\n        </div>\n    </div>\n    <div id=\"myGrid\" style=\"height: 100%\"></div>\n</div>\n"},"boilerPlateFiles":{},"packageJson":{"name":"ag-grid-example","dependencies":{"ag-grid-community":"33.1.0","ag-grid-enterprise":"33.1.0"}}}